<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-back-button slot="start" default-href="/layout/home"></ion-back-button>

    <ion-title class="ion-justify-content-center">Request</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="bloodRequestForm">
    <ion-item>
      <ion-grid>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label  position="floating" lablePlacement="stacked">Name</ion-label> -->
              <ion-input label="{{'Name' | translate}}" label-placement="stacked" placeholder="{{'Name' | translate}}"
                formControlName="name"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label position="floating" lablePlacement="stacked">Age</ion-label> -->
              <ion-input label="{{'age' | translate}}" label-placement="stacked" placeholder="{{'age' | translate}}" formControlName="age"
                type="number"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item lines="none" class="input-class">
              <ion-select aria-label="Gender" interface="action-sheet" placeholder="{{'gender' | translate}}"
                formControlName="gender" (ionChange)="checkGender()">
                <ion-select-option value="MALE">Male</ion-select-option>
                <ion-select-option value="FEMALE">Female</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row *ngIf="isFemale" class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label position="floating" lablePlacement="stacked">Father/Husband</ion-label> -->
              <ion-input label="Father/Husband" label-placement="stacked" placeholder="Father/Husband"
                formControlName="fatherOrHusband"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <ion-label *ngIf="!f['bloodRequireDate'].value" position="floating" lablePlacement="stacked">{{'RequireDate'| translate}}</ion-label>
              <p class="ion-margin-end">
                {{f['bloodRequireDate'].value | date}}
              </p>
              <ion-icon slot="end" color="primary" name="calendar-outline" datetime="datetime" class="ion-margin-top"
                (click)="openCalender('bloodRequireDate')"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label position="floating" lablePlacement="stacked">Mobile Number</ion-label> -->
              <ion-input label="{{'mobileNo'| translate}}" label-placement="stacked" placeholder="{{'mobileNo'| translate}}"
                formControlName="mobileNo" type="number"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <!-- <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item  class="input input-class " >
              <ion-label position="floating" lablePlacement="stacked"
                >location</ion-label
              >
              <ion-input
                placeholder="location"
                formControlName="location"
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row> -->
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label position="floating" lablePlacement="stacked">Hospital Name</ion-label> -->
              <ion-input label="{{'select bloodgroup'| translate}}" label-placement="stacked" placeholder="{{'select bloodgroup'| translate}}"
                formControlName="hospitalName"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item lines="none" class="input-class">
              <ion-select aria-label="bloodGroup" interface="action-sheet" placeholder="{{'select bloodgroup'| translate}}"
                formControlName="bloodGroup">

                <ion-select-option *ngFor="let item of bloodGroup" value="{{item}}">{{item}}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item lines="none" class="input-class">
              <ion-select aria-label="Blood Type" interface="action-sheet" placeholder="{{'seleteBloodType'| translate}}"
                formControlName="bloodType">

                <ion-select-option *ngFor="let item of bloodType" value="{{item}}">{{item}}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item lines="none" class="input-class">
              <ion-select aria-label="Hemoglobin" interface="action-sheet" placeholder="{{'hemoglobin'| translate}}"
                formControlName="hemoglobin">

                <ion-select-option *ngFor="let item of hemoglobin" value="{{item}}">{{item}}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item lines="none" class="input-class">
              <ion-select aria-label="Units" interface="action-sheet" placeholder="{{'selectUnits'| translate}}"
                formControlName="units">

                <ion-select-option *ngFor="let item of units" value="{{item}}">{{item}}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item  class="input input-class " >
              <ion-label position="floating" lablePlacement="stacked"
                >hemoglobin</ion-label
              >
              <ion-input
                placeholder="hemoglobin"
                formControlName="hemoglobin"
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        

        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item  class="input input-class ">
              <ion-label position="floating" lablePlacement="stacked"
                >units</ion-label
              >
              <ion-input
                placeholder="units"
                formControlName="units"
                type="number"
              ></ion-input>
            </ion-item>
          </ion-col>
        </ion-row> -->

        <!-- <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item >
               <ion-label position="floating" lablePlacement="stacked"
                >State
              </ion-label>
              <ionic-selectable
                item-content
                class="ion-text-capilatize"
                #selectableState
                [items]="states"
                itemTextField="name"
                itemValueField="name"
                [canSearch]="true"
                (onChange)="getCity($event)"
                [hasConfirmButton]="true"
                [hasInfiniteScroll]="true"
              >
                <ng-template ionicSelectableHeaderTemplate>
                  <ion-toolbar class="bg-color-2">
                    <ion-buttons slot="start">
                      <ion-button
                        class="text-color-4"
                        (click)="selectableState.close()"
                      >
                        <ion-icon name="arrow-back-outline"></ion-icon>
                      </ion-button>
                    </ion-buttons>
                    <ion-title
                      class="text-color-4 ion-text-capitalize ion-text-wrap"
                    >
                      State
                    </ion-title>
                  </ion-toolbar>
                </ng-template>
                <ng-template ionicSelectableItemTemplate let-port="item">
                  <ion-label class="ion-text-capitalize ion-text-wrap">
                    {{port?.name}}
                  </ion-label>
                </ng-template>
              </ionic-selectable>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="isCity" class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12" class="ion-justify-content-between">
            <ion-item >
               <ion-label position="floating" lablePlacement="stacked">
                City
              </ion-label>
              <ionic-selectable
                item-content
                class="ion-text-capilatize"
                #selectableCity
                [items]="cities"
                itemTextField="name"
                itemValueField="name"
                [canSearch]="true"
                [hasConfirmButton]="true"
                [hasInfiniteScroll]="true"
                (onChange)="setCity($event)"
              >
                <ng-template ionicSelectableHeaderTemplate>
                  <ion-toolbar class="bg-color-2">
                    <ion-buttons slot="start">
                      <ion-button
                        class="text-color-4"
                        (click)="selectableCity.close()"
                      >
                        <ion-icon name="arrow-back-outline"></ion-icon>
                      </ion-button>
                    </ion-buttons>
                    <ion-title
                      class="text-color-4 ion-text-capitalize ion-text-wrap"
                    >
                      City
                    </ion-title>
                  </ion-toolbar>
                </ng-template>
                <ng-template ionicSelectableItemTemplate let-port="item">
                  <ion-label class="ion-text-capitalize ion-text-wrap">
                    {{port?.name}}
                  </ion-label>
                </ng-template>
              </ionic-selectable>
            </ion-item>
          </ion-col>
        </ion-row> -->

        <!-- state -->
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input-class">
              <ion-label position="floating" labelPlacement="stacked">{{'state'| translate}}
              </ion-label>
              <ionic-selectable [(ngModel)]="selectTable.state" [ngModelOptions]="{standalone: true}"
                class="ion-text-capilatize" [items]="states" itemTextField="stateName" itemValueField="id"
                [canSearch]="true" (onChange)="getDistrictByStateId()" [hasConfirmButton]="true"
                [hasInfiniteScroll]="true">
              </ionic-selectable>

            </ion-item>
          </ion-col>
        </ion-row>
        <!-- state ends -->
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input-class">
              <ion-label position="floating" labelPlacement="stacked">{{'District'| translate}}
              </ion-label>
              <ionic-selectable [(ngModel)]="selectTable.district" [ngModelOptions]="{standalone: true}"
                class="ion-text-capilatize" [items]="district" itemTextField="districtName" itemValueField="id"
                [canSearch]="true" (onChange)="getTahsilByDistrictId()" [hasConfirmButton]="true"
                [hasInfiniteScroll]="true">
              </ionic-selectable>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input-class">
              <ion-label position="floating" labelPlacement="stacked">{{'Tahsil'| translate}}
              </ion-label>
              <ionic-selectable [(ngModel)]="selectTable.tahsil" [ngModelOptions]="{standalone: true}"
                class="ion-text-capilatize" [items]="tehsil" itemTextField="tahsilName" itemValueField="id"
                [canSearch]="true" (onChange)="getVillageByTahsilId()" [hasConfirmButton]="true"
                [hasInfiniteScroll]="true">
              </ionic-selectable>

            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input-class">
              <ion-label position="floating" labelPlacement="stacked">{{'Village'| translate}}
              </ion-label>
              <ionic-selectable [(ngModel)]="selectTable.village" [ngModelOptions]="{standalone: true}"
                class="ion-text-capilatize" [items]="village" itemTextField="villageName" itemValueField="id"
                [canSearch]="true" [hasConfirmButton]="true" [hasInfiniteScroll]="true">
              </ionic-selectable>

            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-item class="input input-class ">
              <!-- <ion-label position="floating" lablePlacement="stacked">Illness</ion-label> -->
              <ion-input label="{{'illness'| translate}}" label-placement="stacked" placeholder="{{'illness'| translate}}"
                formControlName="illness"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row class="ion-align-items-center ion-justify-content-center">
          <ion-col size="12">
            <ion-button expand="block" shape="round" class="button ion-padding" color="primary"
              (click)="create()">{{'submit'| translate}}</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </form>
</ion-content>